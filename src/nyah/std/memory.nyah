module std

extern c {
    void *malloc(size_t size)
    void *realloc(void *ptr, size_t size)
    void free(void *ptr)
    void *memcpy(void *dest, const void *src, size_t n)
}

new<T>:*T() = { malloc(T:sizeof) }

reallocate(a:&*, size:size_t) {
    a = realloc(a, size * a:sizeof)
}

copy(dest!T*, src:T const) {
    memcpy(dest, &src, T:sizeof)
}
